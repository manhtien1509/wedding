<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minh & Linh - Wedding Invitation</title>

    <!-- FAVICON -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üíí</text></svg>">

    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;1,400&family=Great+Vibes&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;1,300;1,400&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        body{font-family:'Montserrat',sans-serif;background:#fdf8f4;color:#3d2c2c;overflow-x:hidden}
        body.no-scroll{overflow:hidden}

        :root{
            --primary:#b08968;--primary-dark:#8b6f4e;--primary-light:#ddb892;
            --gold:#c9a96e;--cream:#fdf8f4;--dark:#2c1810;
            --text:#5c4033;--text-light:#8b7355;--rose:#e8c4c4;
            --blush:#f5e6e0;--sage:#a7b5a0
        }

        /* ENVELOPE */
        .envelope-overlay{position:fixed;inset:0;z-index:99999;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#2c1810,#3d2c2c,#2c1810);transition:opacity 1s,visibility 1s}
        .envelope-overlay.hidden{opacity:0;visibility:hidden;pointer-events:none}
        .envelope-scene{display:flex;flex-direction:column;align-items:center;perspective:1000px}
        .envelope{width:320px;height:210px;position:relative;cursor:pointer;transform-style:preserve-3d}
        .envelope-body{width:100%;height:100%;background:linear-gradient(145deg,#d4a574,#c9a96e);border-radius:5px;position:relative;box-shadow:0 20px 60px rgba(0,0,0,.4)}
        .envelope-body::before{content:'';position:absolute;inset:8px;border:1px solid rgba(255,255,255,.25);border-radius:3px}
        .envelope-flap{position:absolute;top:0;left:0;width:100%;height:100%;transform-origin:top center;transition:transform 1.2s cubic-bezier(.4,0,.2,1);z-index:3}
        .envelope-flap-inner{width:0;height:0;border-left:160px solid transparent;border-right:160px solid transparent;border-top:120px solid #b8935e}
        .envelope.open .envelope-flap{transform:rotateX(-180deg)}
        .envelope-letter{position:absolute;top:12px;left:12px;right:12px;bottom:12px;background:#fff;border-radius:3px;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;transition:transform 1s cubic-bezier(.4,0,.2,1) .5s;box-shadow:0 2px 10px rgba(0,0,0,.1);z-index:2}
        .envelope.open .envelope-letter{transform:translateY(-200px) scale(1.1)}
        .letter-ornament{font-family:'Great Vibes',cursive;font-size:.8rem;color:var(--gold)}
        .letter-names{font-family:'Great Vibes',cursive;font-size:1.7rem;color:var(--dark);margin:3px 0}
        .letter-date{font-size:.6rem;color:var(--text-light);letter-spacing:3px;text-transform:uppercase}
        .envelope-wax{position:absolute;top:-12px;left:50%;transform:translateX(-50%);width:48px;height:48px;background:radial-gradient(circle,#c0392b,#922b21);border-radius:50%;z-index:5;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 15px rgba(0,0,0,.3);transition:transform .5s,opacity .5s}
        .envelope-wax::after{content:'‚ô•';color:rgba(255,255,255,.8);font-size:1.1rem}
        .envelope.open .envelope-wax{transform:translateX(-50%) scale(0) rotate(180deg);opacity:0}
        .envelope-text{margin-top:40px;text-align:center;color:rgba(255,255,255,.5);font-family:'Cormorant Garamond',serif;font-size:1rem;font-style:italic;animation:fadeInUp 1s ease .5s both}
        .envelope-text .tap{display:block;margin-top:12px;font-family:'Montserrat',sans-serif;font-size:.7rem;font-style:normal;letter-spacing:3px;text-transform:uppercase;color:var(--primary-light);animation:pulse2 2s ease infinite}
        @keyframes pulse2{0%,100%{opacity:.5}50%{opacity:1}}

        /* ===== GRAND REVEAL + FIREWORKS ===== */
        .grand-reveal{position:fixed;inset:0;z-index:99998;pointer-events:none;overflow:hidden;opacity:0;transition:opacity .5s}
        .grand-reveal.active{opacity:1}
        .grand-reveal.fadeout{opacity:0;transition:opacity 1.5s ease 4s}

        .reveal-burst{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}
        .burst-ring{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);border:2px solid var(--gold);border-radius:50%;opacity:0}
        .grand-reveal.active .burst-ring:nth-child(1){animation:burstRing 2s ease .2s forwards}
        .grand-reveal.active .burst-ring:nth-child(2){animation:burstRing 2s ease .5s forwards}
        .grand-reveal.active .burst-ring:nth-child(3){animation:burstRing 2s ease .8s forwards}
        @keyframes burstRing{0%{width:0;height:0;opacity:.8}100%{width:200vw;height:200vw;opacity:0}}

        /* Firework canvas */
        .fireworks-canvas{position:fixed;inset:0;z-index:99997;pointer-events:none}

        .sparkle{position:absolute;width:4px;height:4px;border-radius:50%;pointer-events:none;animation:sparkleFly 2s ease forwards}
        @keyframes sparkleFly{0%{transform:translate(0,0) scale(1);opacity:1}100%{transform:translate(var(--tx),var(--ty)) scale(0);opacity:0}}

        .confetti-piece{position:absolute;width:8px;height:16px;top:50%;left:50%;opacity:0;animation:confettiFall 3s ease forwards}
        @keyframes confettiFall{0%{transform:translate(0,0) rotate(0deg);opacity:1}100%{transform:translate(var(--cx),var(--cy)) rotate(720deg);opacity:0}}

        .reveal-text-anim{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;opacity:0;z-index:5}
        .grand-reveal.active .reveal-text-anim{animation:revealTextPop 1.5s ease .3s forwards}
        @keyframes revealTextPop{0%{opacity:0;transform:translate(-50%,-50%) scale(.5)}50%{opacity:1;transform:translate(-50%,-50%) scale(1.1)}70%{transform:translate(-50%,-50%) scale(.95)}100%{opacity:0;transform:translate(-50%,-50%) scale(1)}}
        .reveal-text-anim .rta-names{font-family:'Great Vibes',cursive;font-size:3.5rem;color:var(--gold);text-shadow:0 0 40px rgba(201,169,110,.5),0 0 80px rgba(201,169,110,.3)}
        .reveal-text-anim .rta-sub{font-size:.8rem;color:rgba(255,255,255,.7);letter-spacing:5px;text-transform:uppercase;margin-top:8px}

        /* PETALS */
        .petals-container{position:fixed;inset:0;pointer-events:none;z-index:9997;overflow:hidden}
        .petal{position:fixed;top:-30px;pointer-events:none;animation:petalFall linear infinite}
        @keyframes petalFall{0%{transform:translateY(-30px) rotate(0) translateX(0);opacity:.9}25%{transform:translateY(25vh) rotate(90deg) translateX(40px)}50%{transform:translateY(50vh) rotate(180deg) translateX(-30px)}75%{transform:translateY(75vh) rotate(270deg) translateX(35px)}100%{transform:translateY(110vh) rotate(360deg) translateX(-20px);opacity:0}}

        /* PARTICLES */
        .particles{position:fixed;inset:0;pointer-events:none;z-index:9996;overflow:hidden}
        .particle{position:absolute;border-radius:50%;animation:floatUp linear infinite;opacity:0}
        @keyframes floatUp{0%{transform:translateY(100vh) scale(0);opacity:0}10%{opacity:.6;transform:translateY(90vh) scale(1)}90%{opacity:.2}100%{transform:translateY(-10vh) scale(.5);opacity:0}}

        /* SCROLL REVEAL */
        .reveal{opacity:0;transform:translateY(60px);transition:all 1s cubic-bezier(.25,.46,.45,.94)}
        .reveal.active{opacity:1;transform:translateY(0)}
        .reveal-left{opacity:0;transform:translateX(-80px);transition:all 1s cubic-bezier(.25,.46,.45,.94)}
        .reveal-left.active{opacity:1;transform:translateX(0)}
        .reveal-right{opacity:0;transform:translateX(80px);transition:all 1s cubic-bezier(.25,.46,.45,.94)}
        .reveal-right.active{opacity:1;transform:translateX(0)}
        .reveal-scale{opacity:0;transform:scale(.8);transition:all 1s cubic-bezier(.25,.46,.45,.94)}
        .reveal-scale.active{opacity:1;transform:scale(1)}
        .stagger-1{transition-delay:.1s}.stagger-2{transition-delay:.2s}.stagger-3{transition-delay:.3s}
        .stagger-4{transition-delay:.4s}.stagger-5{transition-delay:.5s}.stagger-6{transition-delay:.6s}

        /* HERO */
        .hero{min-height:100vh;display:flex;align-items:center;justify-content:center;text-align:center;position:relative;overflow:hidden}
        .hero-bg{position:absolute;inset:0;background:url('https://images.unsplash.com/photo-1519741497674-611481863552?w=1920&q=80') center/cover no-repeat;transform:scale(1.05);animation:heroZoom 25s ease infinite alternate}
        @keyframes heroZoom{0%{transform:scale(1.05)}100%{transform:scale(1.18)}}
        .hero-overlay{position:absolute;inset:0;background:linear-gradient(180deg,rgba(44,24,16,.25) 0%,rgba(44,24,16,.45) 40%,rgba(44,24,16,.7) 100%)}
        .hero-frame{position:absolute;inset:20px;border:1px solid rgba(201,169,110,.2);pointer-events:none}
        .hero-corner{position:absolute;width:70px;height:70px;opacity:.35}
        .c-tl{top:20px;left:20px;border-top:2px solid var(--gold);border-left:2px solid var(--gold)}
        .c-tr{top:20px;right:20px;border-top:2px solid var(--gold);border-right:2px solid var(--gold)}
        .c-bl{bottom:20px;left:20px;border-bottom:2px solid var(--gold);border-left:2px solid var(--gold)}
        .c-br{bottom:20px;right:20px;border-bottom:2px solid var(--gold);border-right:2px solid var(--gold)}

        .hero-content{position:relative;z-index:5;max-width:750px;padding:0 20px}
        .hero-eyebrow{font-size:.7rem;letter-spacing:8px;text-transform:uppercase;color:var(--primary-light);margin-bottom:20px;animation:fadeInDown 1s ease .3s both}
        .hero-invitation{font-family:'Great Vibes',cursive;font-size:1.8rem;color:rgba(255,255,255,.85);margin-bottom:18px;animation:fadeInDown 1s ease .5s both}
        .hero-names{font-family:'Playfair Display',serif;font-size:5.5rem;font-weight:400;color:#fff;line-height:1.1;margin-bottom:10px;text-shadow:0 4px 30px rgba(0,0,0,.3);animation:fadeInUp 1.2s ease .7s both}
        .hero-names .amp{font-family:'Great Vibes',cursive;font-size:4rem;color:var(--gold);display:block;margin:-5px 0}
        .hero-divider{display:flex;align-items:center;justify-content:center;gap:15px;margin:22px auto;animation:fadeInUp 1s ease .9s both}
        .hero-divider .line{width:80px;height:1px;background:linear-gradient(90deg,transparent,var(--gold))}
        .hero-divider .line:last-child{background:linear-gradient(90deg,var(--gold),transparent)}
        .hero-divider .diamond{width:8px;height:8px;background:var(--gold);transform:rotate(45deg)}
        .hero-date{font-family:'Cormorant Garamond',serif;font-size:1.25rem;color:rgba(255,255,255,.8);letter-spacing:2px;margin-bottom:6px;animation:fadeInUp 1s ease 1s both}
        .hero-venue{font-size:.8rem;color:rgba(255,255,255,.45);letter-spacing:3px;text-transform:uppercase;margin-bottom:35px;animation:fadeInUp 1s ease 1.1s both}
        .hero-cta{display:flex;gap:18px;justify-content:center;flex-wrap:wrap;animation:fadeInUp 1s ease 1.3s both}

        .btn-gold{padding:15px 50px;background:linear-gradient(135deg,var(--gold),var(--primary));color:#fff;border:none;font-family:'Montserrat',sans-serif;font-size:.78rem;font-weight:500;letter-spacing:3px;text-transform:uppercase;cursor:pointer;text-decoration:none;transition:all .4s;position:relative;overflow:hidden}
        .btn-gold::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .6s}
        .btn-gold:hover::before{left:100%}
        .btn-gold:hover{transform:translateY(-3px);box-shadow:0 15px 40px rgba(201,169,110,.4)}
        .btn-glass{padding:15px 50px;background:rgba(255,255,255,.08);color:#fff;border:1px solid rgba(255,255,255,.25);backdrop-filter:blur(10px);font-family:'Montserrat',sans-serif;font-size:.78rem;font-weight:500;letter-spacing:3px;text-transform:uppercase;cursor:pointer;text-decoration:none;transition:all .4s}
        .btn-glass:hover{background:rgba(255,255,255,.15);transform:translateY(-3px);border-color:var(--gold)}

        .scroll-down{position:absolute;bottom:35px;left:50%;transform:translateX(-50%);z-index:5;display:flex;flex-direction:column;align-items:center;gap:8px;animation:fadeInUp 1s ease 1.5s both;cursor:pointer;text-decoration:none}
        .scroll-down span{font-size:.6rem;letter-spacing:3px;text-transform:uppercase;color:rgba(255,255,255,.35)}
        .scroll-arrow{width:18px;height:18px;border-right:1px solid var(--gold);border-bottom:1px solid var(--gold);transform:rotate(45deg);animation:scrollBounce 2s ease infinite}
        @keyframes scrollBounce{0%,100%{transform:rotate(45deg) translate(0,0);opacity:.4}50%{transform:rotate(45deg) translate(5px,5px);opacity:1}}
        @keyframes fadeInUp{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}
        @keyframes fadeInDown{from{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}

        /* SECTION HEADER */
        .section-header{text-align:center;margin-bottom:70px}
        .section-header .ornament{font-family:'Great Vibes',cursive;font-size:1.8rem;color:var(--gold);display:block;margin-bottom:6px}
        .section-header h2{font-family:'Playfair Display',serif;font-size:3rem;font-weight:400;color:var(--dark);margin-bottom:16px}
        .divider-fancy{display:flex;align-items:center;justify-content:center;gap:12px;margin-bottom:16px}
        .divider-fancy .line{width:50px;height:1px;background:var(--gold)}
        .divider-fancy .dot{width:6px;height:6px;background:var(--gold);border-radius:50%}
        .section-header p{font-family:'Cormorant Garamond',serif;font-size:1.15rem;color:var(--text-light);font-style:italic;max-width:550px;margin:0 auto;line-height:1.8}

        /* COUPLE */
        .couple-section{padding:120px 5%;background:#fff;position:relative;overflow:hidden}
        .couple-section::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,var(--gold),transparent)}
        .couple-bg-pattern{position:absolute;inset:0;background:radial-gradient(circle at 20% 50%,rgba(201,169,110,.03) 0%,transparent 50%),radial-gradient(circle at 80% 50%,rgba(232,196,196,.04) 0%,transparent 50%);pointer-events:none}
        .couple-showcase{max-width:1100px;margin:0 auto;position:relative;z-index:2}
        .couple-main{display:flex;align-items:center;justify-content:center;gap:30px;margin-bottom:60px}
        .couple-person{flex:1;max-width:380px}
        .couple-person.groom{text-align:right}
        .couple-person.bride{text-align:left}
        .couple-img-wrap{position:relative;display:inline-block;margin-bottom:25px}
        .couple-img-frame{width:260px;height:340px;position:relative;overflow:hidden;border-radius:130px 130px 20px 20px;box-shadow:0 20px 60px rgba(0,0,0,.12)}
        .couple-person.groom .couple-img-frame{margin-left:auto}
        .couple-img-frame img{width:100%;height:100%;object-fit:cover;transition:transform .8s cubic-bezier(.25,.46,.45,.94)}
        .couple-img-frame:hover img{transform:scale(1.06)}
        .couple-img-border{position:absolute;inset:-10px;border:1px solid var(--gold);border-radius:140px 140px 30px 30px;opacity:.4;animation:rotateBorder 20s linear infinite;border-top-color:transparent;border-left-color:transparent}
        @keyframes rotateBorder{to{transform:rotate(360deg)}}
        .couple-img-badge{position:absolute;bottom:-15px;left:50%;transform:translateX(-50%);background:linear-gradient(135deg,var(--gold),var(--primary));color:#fff;font-family:'Great Vibes',cursive;font-size:1rem;padding:6px 25px;border-radius:20px;box-shadow:0 5px 15px rgba(201,169,110,.3);white-space:nowrap}
        .couple-name{font-family:'Playfair Display',serif;font-size:2rem;font-weight:400;color:var(--dark);margin-bottom:6px}
        .couple-role{font-family:'Great Vibes',cursive;font-size:1.4rem;color:var(--gold);margin-bottom:12px}
        .couple-bio{font-family:'Cormorant Garamond',serif;font-size:1.05rem;color:var(--text-light);line-height:1.8;font-style:italic}
        .couple-parents-info{margin-top:18px;padding-top:18px;border-top:1px solid rgba(201,169,110,.15)}
        .couple-parents-info .label{font-size:.65rem;text-transform:uppercase;letter-spacing:2px;color:var(--text-light);margin-bottom:5px}
        .couple-parents-info .names{font-family:'Cormorant Garamond',serif;font-size:1rem;color:var(--text);line-height:1.6}
        .couple-center-piece{display:flex;flex-direction:column;align-items:center;gap:12px;padding:0 10px;min-width:80px}
        .couple-heart-main{width:70px;height:70px;background:linear-gradient(135deg,var(--rose),var(--primary-light));border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.8rem;box-shadow:0 10px 30px rgba(232,196,196,.3);animation:heartbeat 1.5s ease infinite}
        @keyframes heartbeat{0%,100%{transform:scale(1)}25%{transform:scale(1.15)}40%{transform:scale(1)}60%{transform:scale(1.1)}}
        .couple-date-vertical{font-family:'Montserrat',sans-serif;font-size:.55rem;letter-spacing:3px;text-transform:uppercase;color:var(--text-light);writing-mode:vertical-rl;padding:12px 4px;border-left:1px solid var(--primary-light);border-right:1px solid var(--primary-light)}
        .couple-quote{max-width:600px;margin:0 auto;text-align:center;padding:40px;background:linear-gradient(135deg,rgba(201,169,110,.03),rgba(232,196,196,.05));border:1px solid rgba(201,169,110,.1);position:relative}
        .couple-quote::before,.couple-quote::after{font-family:'Playfair Display',serif;font-size:4rem;color:rgba(201,169,110,.15);position:absolute;line-height:1}
        .couple-quote::before{content:'\201C';top:10px;left:20px}
        .couple-quote::after{content:'\201D';bottom:-10px;right:20px}
        .couple-quote p{font-family:'Cormorant Garamond',serif;font-size:1.2rem;color:var(--text);font-style:italic;line-height:1.9}

        /* COUNTDOWN */
        .countdown-section{padding:120px 5%;background:linear-gradient(135deg,var(--dark) 0%,#3d2c2c 50%,#1a0f0a 100%);text-align:center;position:relative;overflow:hidden}
        .countdown-section::before{content:'';position:absolute;inset:0;background:url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23ffffff' fill-opacity='0.012'%3E%3Cpath d='M30 0L60 30L30 60L0 30z'/%3E%3C/g%3E%3C/svg%3E")}
        .countdown-bg-text{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-family:'Great Vibes',cursive;font-size:14rem;color:rgba(255,255,255,.012);white-space:nowrap;pointer-events:none}
        .countdown-section .section-header h2{color:#fff}
        .countdown-section .section-header .ornament{color:var(--primary-light)}
        .countdown-section .section-header p{color:rgba(255,255,255,.4)}
        .countdown-container{display:flex;justify-content:center;gap:22px;flex-wrap:wrap;position:relative;z-index:2}
        .countdown-item{min-width:140px;padding:35px 25px;background:rgba(255,255,255,.03);border:1px solid rgba(201,169,110,.18);backdrop-filter:blur(5px);transition:all .4s}
        .countdown-item:hover{border-color:var(--gold);transform:translateY(-8px);box-shadow:0 15px 40px rgba(201,169,110,.1);background:rgba(255,255,255,.05)}
        .countdown-number{font-family:'Playfair Display',serif;font-size:4rem;font-weight:300;color:var(--primary-light);line-height:1}
        .countdown-label{font-size:.68rem;color:rgba(255,255,255,.32);margin-top:12px;text-transform:uppercase;letter-spacing:4px}

        /* EVENT */
        .event-section{padding:120px 5%;background:var(--cream)}
        .event-timeline{max-width:900px;margin:0 auto;position:relative;display:flex;flex-direction:column}
        .event-timeline::before{content:'';position:absolute;left:50%;top:0;bottom:0;width:1px;background:linear-gradient(180deg,transparent,var(--gold),var(--gold),transparent);transform:translateX(-50%)}
        .event-item{display:flex;align-items:stretch;position:relative;min-height:200px}
        .event-item:nth-child(odd) .event-card-wrap{order:1}
        .event-item:nth-child(odd) .event-spacer{order:2}
        .event-item:nth-child(even) .event-spacer{order:1}
        .event-item:nth-child(even) .event-card-wrap{order:2}
        .event-card-wrap{width:48%;padding:15px 0}
        .event-spacer{width:48%}
        .event-dot{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:50px;height:50px;background:linear-gradient(135deg,var(--gold),var(--primary));border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.3rem;box-shadow:0 5px 20px rgba(201,169,110,.3);z-index:2;border:3px solid var(--cream)}
        .event-card{background:#fff;padding:35px 30px;border:1px solid rgba(201,169,110,.1);transition:all .5s;position:relative;overflow:hidden}
        .event-card::before{content:'';position:absolute;top:0;left:0;width:4px;height:100%;background:linear-gradient(180deg,var(--gold),var(--primary-light));opacity:0;transition:opacity .3s}
        .event-card:hover::before{opacity:1}
        .event-card:hover{transform:translateY(-5px);box-shadow:0 20px 50px rgba(0,0,0,.06)}
        .event-card-time{font-family:'Cormorant Garamond',serif;font-size:1.3rem;color:var(--gold);font-weight:600;margin-bottom:8px}
        .event-card h3{font-family:'Playfair Display',serif;font-size:1.4rem;font-weight:400;color:var(--dark);margin-bottom:10px}
        .event-card p{font-size:.9rem;color:var(--text-light);line-height:1.7;margin-bottom:12px}
        .event-card-address{display:flex;align-items:flex-start;gap:8px;font-size:.85rem;color:var(--text-light);padding-top:12px;border-top:1px solid rgba(201,169,110,.1)}

        /* ALBUM */
        .album-section{padding:120px 5%;background:#fff}
        .album-grid{display:grid;grid-template-columns:repeat(4,1fr);grid-template-rows:repeat(3,200px);gap:10px;max-width:1100px;margin:0 auto}
        .album-item{overflow:hidden;cursor:pointer;position:relative;border-radius:4px}
        .album-item:nth-child(1){grid-column:span 2;grid-row:span 2}
        .album-item:nth-child(6){grid-column:span 2}
        .album-item img{width:100%;height:100%;object-fit:cover;transition:transform .7s cubic-bezier(.25,.46,.45,.94)}
        .album-item::before{content:'';position:absolute;inset:0;background:linear-gradient(transparent 40%,rgba(44,24,16,.6));opacity:0;transition:opacity .4s;z-index:1}
        .album-item::after{content:'üîç';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) scale(0);font-size:2rem;z-index:2;transition:transform .4s}
        .album-item:hover img{transform:scale(1.1)}
        .album-item:hover::before{opacity:1}
        .album-item:hover::after{transform:translate(-50%,-50%) scale(1)}

        /* LIGHTBOX */
        .lightbox{position:fixed;inset:0;background:rgba(0,0,0,.95);z-index:99998;display:flex;align-items:center;justify-content:center;opacity:0;visibility:hidden;transition:all .4s;backdrop-filter:blur(10px)}
        .lightbox.active{opacity:1;visibility:visible}
        .lightbox-inner{position:relative;max-width:90vw;max-height:85vh}
        .lightbox-inner img{max-width:100%;max-height:85vh;object-fit:contain;border-radius:4px;box-shadow:0 20px 60px rgba(0,0,0,.5);transform:scale(.9);transition:transform .4s}
        .lightbox.active .lightbox-inner img{transform:scale(1)}
        .lb-close{position:absolute;top:-50px;right:0;background:none;border:none;color:#fff;font-size:2rem;cursor:pointer;padding:10px;transition:transform .3s}
        .lb-close:hover{transform:rotate(90deg)}
        .lb-nav{position:absolute;top:50%;transform:translateY(-50%);background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.2);color:#fff;width:50px;height:50px;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:1.2rem;transition:all .3s;backdrop-filter:blur(5px)}
        .lb-nav:hover{background:rgba(255,255,255,.2);border-color:var(--gold)}
        .lb-prev{left:-70px}
        .lb-next{right:-70px}
        .lb-counter{position:absolute;bottom:-40px;left:50%;transform:translateX(-50%);color:rgba(255,255,255,.5);font-size:.8rem;letter-spacing:2px}

        /* ===== WISHES WITH SCROLLABLE LIST ===== */
        .wishes-section{padding:120px 5%;background:var(--cream);position:relative;overflow:hidden}
        .wishes-bg{position:absolute;inset:0;background:radial-gradient(circle at 10% 20%,rgba(232,196,196,.08) 0%,transparent 50%),radial-gradient(circle at 90% 80%,rgba(201,169,110,.06) 0%,transparent 50%);pointer-events:none}
        .wishes-container{max-width:800px;margin:0 auto;position:relative;z-index:2}
        .wish-form-card{background:#fff;border:1px solid rgba(201,169,110,.1);padding:40px;margin-bottom:50px;position:relative}
        .wish-form-card::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,var(--gold),var(--primary-light),var(--rose))}
        .wish-form-card h3{font-family:'Playfair Display',serif;font-size:1.5rem;font-weight:400;color:var(--dark);margin-bottom:5px;text-align:center}
        .wish-form-card .subtitle{font-family:'Great Vibes',cursive;font-size:1.2rem;color:var(--gold);text-align:center;margin-bottom:25px;display:block}
        .wish-form{display:flex;flex-direction:column;gap:16px}
        .wish-input-row{display:grid;grid-template-columns:1fr 1fr;gap:16px}
        .wish-input{width:100%;padding:14px 16px;border:1px solid #e8ddd2;background:var(--cream);font-family:'Montserrat',sans-serif;font-size:.88rem;color:var(--text);outline:none;transition:all .3s}
        .wish-input:focus{border-color:var(--gold);box-shadow:0 0 0 3px rgba(201,169,110,.1)}
        textarea.wish-input{min-height:100px;resize:vertical}
        .wish-submit{padding:15px 40px;background:linear-gradient(135deg,var(--gold),var(--primary));color:#fff;border:none;font-family:'Montserrat',sans-serif;font-size:.8rem;font-weight:500;letter-spacing:3px;text-transform:uppercase;cursor:pointer;transition:all .4s;align-self:center;position:relative;overflow:hidden}
        .wish-submit::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .6s}
        .wish-submit:hover::before{left:100%}
        .wish-submit:hover{transform:translateY(-3px);box-shadow:0 12px 35px rgba(201,169,110,.3)}

        /* Scrollable wish list */
        .wishes-list-wrapper{max-height:600px;overflow-y:auto;padding-right:8px;scroll-behavior:smooth}
        .wishes-list-wrapper::-webkit-scrollbar{width:6px}
        .wishes-list-wrapper::-webkit-scrollbar-track{background:rgba(201,169,110,.05);border-radius:3px}
        .wishes-list-wrapper::-webkit-scrollbar-thumb{background:linear-gradient(180deg,var(--gold),var(--primary-light));border-radius:3px}
        .wishes-list-wrapper::-webkit-scrollbar-thumb:hover{background:var(--primary)}
        .wishes-list-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px}
        .wishes-list-header h3{font-family:'Playfair Display',serif;font-size:1.3rem;font-weight:400;color:var(--dark)}
        .wishes-count{background:linear-gradient(135deg,var(--gold),var(--primary));color:#fff;font-size:.75rem;padding:4px 14px;border-radius:20px;font-weight:500}

        .wishes-list{display:flex;flex-direction:column;gap:20px}
        .wish-card{padding:30px 35px;background:#fff;border:1px solid rgba(201,169,110,.08);transition:all .5s;position:relative;overflow:hidden}
        .wish-card::before{content:'';position:absolute;top:0;left:0;width:100%;height:3px;background:linear-gradient(90deg,var(--gold),var(--primary-light),var(--rose));transform:scaleX(0);transform-origin:left;transition:transform .5s}
        .wish-card:hover::before{transform:scaleX(1)}
        .wish-card:hover{transform:translateY(-5px);box-shadow:0 20px 50px rgba(0,0,0,.05)}
        .wish-card-quote{position:absolute;top:15px;right:20px;font-family:'Playfair Display',serif;font-size:4rem;color:rgba(201,169,110,.08);line-height:1}
        .wish-text{font-family:'Cormorant Garamond',serif;font-size:1.12rem;color:var(--text);line-height:1.9;font-style:italic;margin-bottom:18px;position:relative;z-index:1}
        .wish-footer{display:flex;align-items:center;justify-content:space-between}
        .wish-author{display:flex;align-items:center;gap:12px}
        .wish-avatar{width:45px;height:45px;border-radius:50%;background:linear-gradient(135deg,var(--blush),var(--primary-light));display:flex;align-items:center;justify-content:center;font-size:1.1rem;font-weight:600;color:var(--primary-dark);box-shadow:0 3px 10px rgba(0,0,0,.06)}
        .wish-author-info .name{font-weight:500;font-size:.9rem;color:var(--dark)}
        .wish-time{font-size:.75rem;color:var(--text-light)}
        .no-wishes{text-align:center;padding:40px;color:var(--text-light);font-style:italic;font-family:'Cormorant Garamond',serif;font-size:1.1rem}

        /* VENUE */
        .venue-section{padding:120px 5%;background:#fff}
        .venue-layout{display:grid;grid-template-columns:1fr 1fr;gap:0;max-width:1100px;margin:0 auto;overflow:hidden;box-shadow:0 20px 60px rgba(0,0,0,.08)}
        .venue-info-side{padding:60px 50px;background:var(--dark);color:#fff;display:flex;flex-direction:column;justify-content:center}
        .venue-info-side h3{font-family:'Playfair Display',serif;font-size:2.2rem;font-weight:400;margin-bottom:10px}
        .venue-info-side .tagline{font-family:'Great Vibes',cursive;font-size:1.2rem;color:var(--primary-light);margin-bottom:25px}
        .venue-info-side>p{color:rgba(255,255,255,.55);line-height:1.8;margin-bottom:30px;font-size:.9rem}
        .venue-detail{display:flex;align-items:flex-start;gap:15px;margin-bottom:20px}
        .venue-detail-icon{width:40px;height:40px;min-width:40px;border:1px solid rgba(201,169,110,.3);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1rem}
        .venue-detail-text strong{display:block;color:#fff;font-weight:500;margin-bottom:2px;font-size:.85rem}
        .venue-detail-text span{font-size:.82rem;color:rgba(255,255,255,.45)}
        .venue-map-side{min-height:500px;background:var(--blush);display:flex;align-items:center;justify-content:center;overflow:hidden}
        .venue-map-placeholder{text-align:center;color:var(--text-light)}
        .venue-map-placeholder .map-icon{font-size:4rem;margin-bottom:12px;display:block}
        .venue-btn{display:inline-block;margin-top:25px;padding:12px 35px;background:linear-gradient(135deg,var(--gold),var(--primary));color:#fff;text-decoration:none;font-size:.78rem;font-weight:500;letter-spacing:2px;text-transform:uppercase;transition:all .3s}
        .venue-btn:hover{transform:translateY(-2px);box-shadow:0 10px 25px rgba(201,169,110,.3)}

        /* ===== GIFT SECTION REDESIGN ===== */
        .gift-section{padding:120px 5%;background:linear-gradient(180deg,#fff 0%,var(--cream) 30%,var(--blush) 60%,var(--cream) 100%);position:relative;overflow:hidden}
        .gift-bg{position:absolute;inset:0;pointer-events:none}
        .gift-bg::before{content:'';position:absolute;top:10%;left:-5%;width:400px;height:400px;background:radial-gradient(circle,rgba(201,169,110,.06) 0%,transparent 70%);border-radius:50%}
        .gift-bg::after{content:'';position:absolute;bottom:10%;right:-5%;width:350px;height:350px;background:radial-gradient(circle,rgba(232,196,196,.08) 0%,transparent 70%);border-radius:50%}
        .gift-container{max-width:950px;margin:0 auto;position:relative;z-index:2}

        .gift-intro{text-align:center;max-width:600px;margin:0 auto 50px;padding:35px 40px;background:rgba(255,255,255,.7);backdrop-filter:blur(10px);border:1px solid rgba(201,169,110,.12);border-radius:16px;position:relative}
        .gift-intro::before{content:'üéÅ';position:absolute;top:-20px;left:50%;transform:translateX(-50%);font-size:2.2rem;background:var(--cream);padding:0 15px}
        .gift-intro p{font-family:'Cormorant Garamond',serif;font-size:1.1rem;color:var(--text);font-style:italic;line-height:1.9}

        .gift-tabs{display:flex;justify-content:center;gap:8px;margin-bottom:45px}
        .gift-tab{padding:12px 35px;border:1px solid var(--primary-light);background:transparent;color:var(--text);font-family:'Montserrat',sans-serif;font-size:.8rem;font-weight:500;letter-spacing:1.5px;cursor:pointer;transition:all .3s;border-radius:30px}
        .gift-tab.active{background:linear-gradient(135deg,var(--gold),var(--primary));color:#fff;border-color:transparent;box-shadow:0 8px 25px rgba(201,169,110,.25)}
        .gift-tab:hover:not(.active){border-color:var(--gold);color:var(--gold);transform:translateY(-2px)}

        .gift-cards{display:grid;grid-template-columns:repeat(2,1fr);gap:30px}
        .gift-card{background:#fff;border:1px solid rgba(201,169,110,.1);padding:45px 35px;text-align:center;transition:all .5s;position:relative;overflow:hidden;display:none;border-radius:16px}
        .gift-card.show{display:block}
        .gift-card::before{content:'';position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,var(--gold),var(--primary-light),var(--rose));border-radius:16px 16px 0 0}
        .gift-card::after{content:'';position:absolute;bottom:0;right:0;width:120px;height:120px;background:radial-gradient(circle,rgba(201,169,110,.04) 0%,transparent 70%);pointer-events:none}
        .gift-card:hover{transform:translateY(-10px);box-shadow:0 30px 70px rgba(0,0,0,.08)}

        .gift-card-icon{width:80px;height:80px;margin:0 auto 22px;background:linear-gradient(135deg,var(--blush),rgba(201,169,110,.12));border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:2rem;box-shadow:0 8px 25px rgba(201,169,110,.1);position:relative}
        .gift-card-icon::after{content:'';position:absolute;inset:-5px;border:1px dashed rgba(201,169,110,.2);border-radius:50%;animation:rotateBorder 15s linear infinite}
        .gift-card h4{font-family:'Playfair Display',serif;font-size:1.4rem;font-weight:400;color:var(--dark);margin-bottom:5px}
        .gift-card .role-label{font-family:'Great Vibes',cursive;font-size:1.15rem;color:var(--gold);margin-bottom:20px;display:block}

        .gift-qr{width:180px;height:180px;margin:0 auto 20px;background:linear-gradient(135deg,#fafafa,#f5f5f5);border:2px dashed rgba(201,169,110,.25);border-radius:16px;display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden}
        .gift-qr::before{content:'';position:absolute;inset:0;background:linear-gradient(135deg,rgba(201,169,110,.02),rgba(232,196,196,.03));pointer-events:none}
        .gift-qr-placeholder{text-align:center;color:var(--text-light);font-size:.8rem;position:relative;z-index:1}
        .gift-qr-placeholder .qr-icon{font-size:3rem;display:block;margin-bottom:5px}

        .gift-bank-info{text-align:left;background:linear-gradient(135deg,var(--cream),rgba(201,169,110,.04));padding:20px 22px;border-radius:12px;margin-top:18px;border:1px solid rgba(201,169,110,.08)}
        .gift-bank-row{display:flex;justify-content:space-between;align-items:center;padding:8px 0;font-size:.85rem}
        .gift-bank-row:not(:last-child){border-bottom:1px solid rgba(201,169,110,.08)}
        .gift-bank-label{color:var(--text-light);font-size:.8rem}
        .gift-bank-value{color:var(--dark);font-weight:500;display:flex;align-items:center;gap:8px}
        .copy-btn{background:none;border:1px solid var(--primary-light);color:var(--primary);font-size:.65rem;padding:4px 12px;cursor:pointer;font-family:'Montserrat',sans-serif;transition:all .3s;border-radius:15px}
        .copy-btn:hover{background:var(--primary);color:#fff}
        .copy-btn.copied{background:var(--sage);color:#fff;border-color:var(--sage)}

        .gift-note{text-align:center;margin-top:45px;padding:30px 40px;background:rgba(255,255,255,.6);backdrop-filter:blur(10px);border-radius:16px;border:1px solid rgba(201,169,110,.1)}
        .gift-note .note-icon{font-size:1.5rem;display:block;margin-bottom:10px}
        .gift-note p{font-family:'Cormorant Garamond',serif;font-size:1.08rem;color:var(--text-light);font-style:italic;line-height:1.9}
        .gift-note .highlight{color:var(--gold);font-weight:500;font-style:normal}

        /* ===== FOOTER REDESIGN ===== */
        .footer{padding:0;background:var(--dark);position:relative;overflow:hidden}
        .footer::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,var(--gold),transparent)}

        .footer-top{padding:80px 5% 50px;position:relative;text-align:center}
        .footer-top::before{content:'';position:absolute;inset:0;background:radial-gradient(ellipse at 50% 0%,rgba(201,169,110,.06) 0%,transparent 60%);pointer-events:none}
        .footer-ornament{font-family:'Great Vibes',cursive;font-size:1.4rem;color:var(--primary-light);margin-bottom:12px;opacity:.6}
        .footer-names{font-family:'Great Vibes',cursive;font-size:3.5rem;color:var(--primary-light);margin-bottom:8px;text-shadow:0 2px 30px rgba(201,169,110,.2)}
        .footer-date{font-family:'Cormorant Garamond',serif;font-size:1.1rem;color:rgba(255,255,255,.35);font-style:italic;margin-bottom:22px}
        .footer-hashtag{display:inline-block;font-family:'Great Vibes',cursive;font-size:1.6rem;color:var(--gold);margin-bottom:30px;padding:8px 30px;border:1px solid rgba(201,169,110,.2);border-radius:30px;background:rgba(201,169,110,.03)}
        .footer-message{max-width:550px;margin:0 auto 35px;font-family:'Cormorant Garamond',serif;font-size:1.05rem;color:rgba(255,255,255,.3);font-style:italic;line-height:1.9}
        .footer-social{display:flex;justify-content:center;gap:12px;margin-bottom:15px}
        .footer-social a{width:46px;height:46px;border-radius:50%;border:1px solid rgba(255,255,255,.1);display:flex;align-items:center;justify-content:center;text-decoration:none;font-size:1.1rem;transition:all .4s;color:rgba(255,255,255,.5);background:rgba(255,255,255,.03)}
        .footer-social a:hover{background:linear-gradient(135deg,var(--gold),var(--primary));border-color:transparent;color:#fff;transform:translateY(-5px);box-shadow:0 10px 25px rgba(201,169,110,.2)}

        .footer-divider{height:1px;background:linear-gradient(90deg,transparent,rgba(201,169,110,.15),transparent);margin:0 5%}

        .footer-bottom{padding:25px 5%;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:10px}
        .footer-bottom-left{font-size:.75rem;color:rgba(255,255,255,.15)}
        .footer-bottom-left span{color:var(--rose)}
        .footer-bottom-right{display:flex;align-items:center;gap:20px}
        .footer-bottom-right a{font-size:.72rem;color:rgba(255,255,255,.2);text-decoration:none;letter-spacing:1px;text-transform:uppercase;transition:color .3s}
        .footer-bottom-right a:hover{color:var(--gold)}
        .footer-bottom-center{font-size:.72rem;color:rgba(255,255,255,.12);text-align:center;width:100%;margin-top:8px}

        .footer-floating-hearts{position:absolute;inset:0;pointer-events:none;overflow:hidden}
        .footer-heart{position:absolute;bottom:-20px;font-size:1rem;opacity:0;animation:floatHeart 6s ease infinite}
        @keyframes floatHeart{0%{transform:translateY(0) scale(.5) rotate(0deg);opacity:0}15%{opacity:.15}85%{opacity:.05}100%{transform:translateY(-300px) scale(1) rotate(25deg);opacity:0}}

        /* FIXED */
        .back-to-top{position:fixed;bottom:30px;right:30px;width:48px;height:48px;background:var(--primary);color:#fff;border:none;cursor:pointer;font-size:1rem;opacity:0;transform:translateY(20px);transition:all .3s;z-index:999;box-shadow:0 5px 20px rgba(176,137,104,.3);border-radius:50%}
        .back-to-top.show{opacity:1;transform:translateY(0)}
        .back-to-top:hover{background:var(--primary-dark);transform:translateY(-3px)}
        .music-toggle{position:fixed;bottom:30px;left:30px;width:48px;height:48px;border-radius:50%;background:var(--primary);color:#fff;border:none;cursor:pointer;z-index:999;box-shadow:0 5px 20px rgba(176,137,104,.3);transition:all .3s;display:flex;align-items:center;justify-content:center}
        .music-toggle:hover{background:var(--primary-dark)}
        .music-bars{display:flex;gap:2px;align-items:flex-end;height:18px}
        .music-bars .bar{width:3px;background:#fff;border-radius:2px}
        .music-bars .bar:nth-child(1){height:6px}
        .music-bars .bar:nth-child(2){height:12px}
        .music-bars .bar:nth-child(3){height:8px}
        .music-bars .bar:nth-child(4){height:14px}
        .music-toggle.playing .bar{animation:musicBar .6s ease infinite}
        .music-toggle.playing .bar:nth-child(1){animation-delay:0s}
        .music-toggle.playing .bar:nth-child(2){animation-delay:.15s}
        .music-toggle.playing .bar:nth-child(3){animation-delay:.3s}
        .music-toggle.playing .bar:nth-child(4){animation-delay:.45s}
        @keyframes musicBar{0%,100%{height:5px}50%{height:18px}}

        /* RESPONSIVE */
        @media(max-width:1024px){
            .hero-names{font-size:4.5rem}
            .couple-main{flex-direction:column;gap:20px}
            .couple-person{max-width:100%;text-align:center!important}
            .couple-person.groom .couple-img-frame{margin:0 auto}
            .couple-center-piece{flex-direction:row}
            .couple-date-vertical{writing-mode:horizontal-tb}
            .album-grid{grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(3,180px)}
            .event-timeline::before{left:25px}
            .event-item{flex-direction:row!important}
            .event-card-wrap{order:2!important;width:calc(100% - 80px)!important}
            .event-spacer{display:none!important}
            .event-dot{left:25px!important;top:50%!important;transform:translate(-50%,-50%)!important;width:42px;height:42px;font-size:1.1rem}
            .event-item{padding-left:65px}
            .venue-layout{grid-template-columns:1fr}
            .venue-map-side{min-height:350px}
            .gift-cards{grid-template-columns:repeat(2,1fr)}
            .footer-bottom{justify-content:center;text-align:center}
        }
        @media(max-width:768px){
            .hero-names{font-size:3.2rem}
            .hero-names .amp{font-size:2.5rem}
            .section-header h2{font-size:2.3rem}
            .couple-img-frame{width:220px;height:290px}
            .album-grid{grid-template-columns:repeat(2,1fr);grid-template-rows:auto}
            .album-item{aspect-ratio:4/3}
            .album-item:nth-child(1){grid-column:span 2;grid-row:span 1}
            .album-item:nth-child(6){grid-column:span 2}
            .gift-cards{grid-template-columns:1fr}
            .wish-input-row{grid-template-columns:1fr}
            .lb-prev{left:10px}
            .lb-next{right:10px}
            .venue-info-side{padding:45px 30px}
            .envelope{width:280px;height:180px}
            .envelope-flap-inner{border-left-width:140px;border-right-width:140px;border-top-width:110px}
            .reveal-text-anim .rta-names{font-size:2.5rem}
            .footer-names{font-size:2.8rem}
            .footer-bottom-right{display:none}
            .wishes-list-wrapper{max-height:450px}
        }
        @media(max-width:480px){
            .hero-names{font-size:2.5rem}
            .hero-names .amp{font-size:2rem}
            .hero-invitation{font-size:1.4rem}
            .hero-cta{flex-direction:column;align-items:center}
            .btn-gold,.btn-glass{width:100%;max-width:280px;text-align:center}
            .section-header h2{font-size:1.8rem}
            .couple-img-frame{width:180px;height:240px}
            .countdown-item{min-width:70px;padding:20px 12px}
            .countdown-number{font-size:2.2rem}
            .countdown-label{font-size:.58rem;letter-spacing:2px}
            .countdown-bg-text{font-size:5rem}
            .album-grid{grid-template-columns:1fr}
            .album-item:nth-child(1),.album-item:nth-child(6){grid-column:span 1}
            .venue-info-side{padding:35px 25px}
            .gift-qr{width:150px;height:150px}
            .gift-tabs{flex-direction:column;align-items:center}
            .gift-tab{width:200px;text-align:center}
            .envelope{width:240px;height:155px}
            .envelope-flap-inner{border-left-width:120px;border-right-width:120px;border-top-width:95px}
            .letter-names{font-size:1.3rem}
            .music-toggle,.back-to-top{width:42px;height:42px}
            .music-toggle{bottom:20px;left:20px}
            .back-to-top{bottom:20px;right:20px}
            .hero-frame{inset:12px}
            .hero-corner{width:45px;height:45px}
            .c-tl,.c-tr{top:12px}.c-bl,.c-br{bottom:12px}
            .c-tl,.c-bl{left:12px}.c-tr,.c-br{right:12px}
            .wish-form-card{padding:30px 20px}
            .reveal-text-anim .rta-names{font-size:2rem}
            .footer-names{font-size:2.2rem}
            .footer-top{padding:50px 5% 35px}
            .gift-intro{padding:30px 25px}
            .gift-card{padding:35px 25px}
            .wishes-list-wrapper{max-height:350px}
        }
    </style>
</head>
<body class="no-scroll">

    <!-- AUDIO -->
    <audio id="bgMusic" loop preload="auto">
        <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
    </audio>

    <!-- FIREWORKS CANVAS -->
    <canvas id="fireworksCanvas" class="fireworks-canvas"></canvas>

    <!-- ENVELOPE -->
    <div class="envelope-overlay" id="envelopeOverlay">
        <div class="envelope-scene">
            <div class="envelope" id="envelope" onclick="openEnvelope()">
                <div class="envelope-flap"><div class="envelope-flap-inner"></div></div>
                <div class="envelope-body">
                    <div class="envelope-letter">
                        <span class="letter-ornament">~ You are invited ~</span>
                        <div class="letter-names">Minh & Linh</div>
                        <span class="letter-date">29 ‚Ä¢ 03 ‚Ä¢ 2026</span>
                    </div>
                </div>
                <div class="envelope-wax"></div>
            </div>
            <div class="envelope-text">
                <em>Tr√¢n tr·ªçng k√≠nh m·ªùi b·∫°n ƒë·∫øn d·ª± l·ªÖ c∆∞·ªõi</em>
                <span class="tap">‚ú¶ Nh·∫•n ƒë·ªÉ m·ªü thi·ªáp ‚ú¶</span>
            </div>
        </div>
    </div>

    <!-- GRAND REVEAL -->
    <div class="grand-reveal" id="grandReveal">
        <div class="reveal-burst">
            <div class="burst-ring"></div>
            <div class="burst-ring"></div>
            <div class="burst-ring"></div>
        </div>
        <div class="reveal-text-anim">
            <div class="rta-names">Minh & Linh</div>
            <div class="rta-sub">Ch√∫ng m√¨nh s·∫Øp c∆∞·ªõi r·ªìi!</div>
        </div>
    </div>

    <!-- PETALS -->
    <div class="petals-container" id="petals"></div>
    <div class="particles" id="particles"></div>

    <!-- HERO -->
    <section class="hero" id="home">
        <div class="hero-bg"></div>
        <div class="hero-overlay"></div>
        <div class="hero-frame"></div>
        <div class="hero-corner c-tl"></div>
        <div class="hero-corner c-tr"></div>
        <div class="hero-corner c-bl"></div>
        <div class="hero-corner c-br"></div>

        <div class="hero-content">
            <div class="hero-eyebrow">Wedding Invitation</div>
            <div class="hero-invitation">Tr√¢n tr·ªçng k√≠nh m·ªùi b·∫°n ƒë·∫øn d·ª± l·ªÖ c∆∞·ªõi c·ªßa ch√∫ng m√¨nh</div>
            <h1 class="hero-names">
                Minh
                <span class="amp">&</span>
                Linh
            </h1>
            <div class="hero-divider">
                <span class="line"></span>
                <span class="diamond"></span>
                <span class="line"></span>
            </div>
            <div class="hero-date">Ch·ªß nh·∫≠t, ng√†y 29 th√°ng 03 nƒÉm 2026</div>
            <div class="hero-venue">White Palace Convention Center ‚Ä¢ TP. H·ªì Ch√≠ Minh</div>
            <div class="hero-cta">
                <a href="#events" class="btn-gold">Xem chi ti·∫øt</a>
                <a href="#wishes" class="btn-glass">G·ª≠i l·ªùi ch√∫c</a>
            </div>
        </div>

        <a href="#couple" class="scroll-down" id="scrollDownBtn">
            <span>Cu·ªôn xu·ªëng</span>
            <div class="scroll-arrow"></div>
        </a>
    </section>

    <!-- COUPLE -->
    <section class="couple-section" id="couple">
        <div class="couple-bg-pattern"></div>
        <div class="section-header reveal">
            <span class="ornament">C√¥ D√¢u & Ch√∫ R·ªÉ</span>
            <h2>Ch√∫ng M√¨nh</h2>
            <div class="divider-fancy"><span class="line"></span><span class="dot"></span><span class="line"></span></div>
            <p>Hai tr√°i tim, m·ªôt t√¨nh y√™u, m·ªôt c√¢u chuy·ªán m√£i m√£i</p>
        </div>
        <div class="couple-showcase">
            <div class="couple-main">
                <div class="couple-person groom reveal-left">
                    <div class="couple-img-wrap">
                        <div class="couple-img-frame">
                            <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=500&q=80" alt="Groom">
                            <div class="couple-img-border"></div>
                        </div>
                        <div class="couple-img-badge">Ch√∫ R·ªÉ</div>
                    </div>
                    <h3 class="couple-name">Tr·∫ßn ƒê·ª©c Minh</h3>
                    <div class="couple-role">The Groom</div>
                    <p class="couple-bio">"T·ª´ khi g·∫∑p em, m·ªói ng√†y ƒë·ªÅu tr·ªü n√™n ƒë·∫∑c bi·ªát h∆°n."</p>
                    <div class="couple-parents-info">
                        <div class="label">Con trai c·ªßa</div>
                        <div class="names">√îng Tr·∫ßn VƒÉn H√πng<br>& B√† Nguy·ªÖn Th·ªã Mai</div>
                    </div>
                </div>

                <div class="couple-center-piece reveal-scale">
                    <div class="couple-heart-main">üíï</div>
                    <div class="couple-date-vertical">29.03.2026</div>
                </div>

                <div class="couple-person bride reveal-right">
                    <div class="couple-img-wrap">
                        <div class="couple-img-frame">
                            <img src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=500&q=80" alt="Bride">
                            <div class="couple-img-border"></div>
                        </div>
                        <div class="couple-img-badge">C√¥ D√¢u</div>
                    </div>
                    <h3 class="couple-name">L√™ Th·ªã Th√πy Linh</h3>
                    <div class="couple-role">The Bride</div>
                    <p class="couple-bio">"Anh l√† c√¢u tr·∫£ l·ªùi cho m·ªçi l·ªùi nguy·ªán c·∫ßu c·ªßa em."</p>
                    <div class="couple-parents-info">
                        <div class="label">Con g√°i c·ªßa</div>
                        <div class="names">√îng L√™ Thanh Phong<br>& B√† Ph·∫°m Th·ªã Lan</div>
                    </div>
                </div>
            </div>

            <div class="couple-quote reveal">
                <p>T√¨nh y√™u kh√¥ng ph·∫£i l√† nh√¨n nhau, m√† l√† c√πng nhau nh√¨n v·ªÅ m·ªôt h∆∞·ªõng.</p>
            </div>
        </div>
    </section>

    <!-- COUNTDOWN -->
    <section class="countdown-section" id="countdown">
        <div class="countdown-bg-text">Forever</div>
        <div class="section-header reveal">
            <span class="ornament">Save The Date</span>
            <h2>ƒê·∫øm Ng∆∞·ª£c</h2>
            <div class="divider-fancy"><span class="line" style="background:var(--primary-light)"></span><span class="dot" style="background:var(--primary-light)"></span><span class="line" style="background:var(--primary-light)"></span></div>
            <p>Ch·ªâ c√≤n √≠t ng√†y n·ªØa th√¥i!</p>
        </div>
        <div class="countdown-container">
            <div class="countdown-item reveal stagger-1">
                <div class="countdown-number" id="days">00</div>
                <div class="countdown-label">Ng√†y</div>
            </div>
            <div class="countdown-item reveal stagger-2">
                <div class="countdown-number" id="hours">00</div>
                <div class="countdown-label">Gi·ªù</div>
            </div>
            <div class="countdown-item reveal stagger-3">
                <div class="countdown-number" id="minutes">00</div>
                <div class="countdown-label">Ph√∫t</div>
            </div>
            <div class="countdown-item reveal stagger-4">
                <div class="countdown-number" id="seconds">00</div>
                <div class="countdown-label">Gi√¢y</div>
            </div>
        </div>
    </section>

    <!-- EVENTS -->
    <section class="event-section" id="events">
        <div class="section-header reveal">
            <span class="ornament">L·ªãch Tr√¨nh</span>
            <h2>S·ª± Ki·ªán C∆∞·ªõi</h2>
            <div class="divider-fancy"><span class="line"></span><span class="dot"></span><span class="line"></span></div>
            <p>Ch√∫ng m√¨nh r·∫•t h·∫°nh ph√∫c khi ƒë∆∞·ª£c ƒë√≥n ti·∫øp b·∫°n</p>
        </div>
        <div class="event-timeline">
            <div class="event-item">
                <div class="event-card-wrap reveal-left">
                    <div class="event-card">
                        <div class="event-card-time">08:00 AM</div>
                        <h3>L·ªÖ Vu Quy</h3>
                        <p>Nghi th·ª©c truy·ªÅn th·ªëng t·∫°i t∆∞ gia nh√† g√°i, trao duy√™n con g√°i v·ªÅ nh√† ch·ªìng.</p>
                        <div class="event-card-address">üìç 123 Nguy·ªÖn Hu·ªá, Q.1, TP.HCM</div>
                    </div>
                </div>
                <div class="event-dot">üíí</div>
                <div class="event-spacer"></div>
            </div>
            <div class="event-item">
                <div class="event-spacer"></div>
                <div class="event-dot">üíç</div>
                <div class="event-card-wrap reveal-right">
                    <div class="event-card">
                        <div class="event-card-time">11:00 AM</div>
                        <h3>L·ªÖ Th√†nh H√¥n</h3>
                        <p>Nghi l·ªÖ c∆∞·ªõi ch√≠nh th·ª©c v·ªõi s·ª± ch·ª©ng ki·∫øn c·ªßa hai b√™n gia ƒë√¨nh v√† quan kh√°ch.</p>
                        <div class="event-card-address">üìç 456 L√™ L·ª£i, Q.3, TP.HCM</div>
                    </div>
                </div>
            </div>
            <div class="event-item">
                <div class="event-card-wrap reveal-left">
                    <div class="event-card">
                        <div class="event-card-time">18:00 PM</div>
                        <h3>Ti·ªác Chung Vui</h3>
                        <p>Ti·ªác t·ªëi ·∫•m c√∫ng c√πng b·∫°n b√® v√† ng∆∞·ªùi th√¢n t·∫°i nh√† h√†ng White Palace.</p>
                        <div class="event-card-address">üìç White Palace, Ph·∫°m VƒÉn ƒê·ªìng, Th·ªß ƒê·ª©c</div>
                    </div>
                </div>
                <div class="event-dot">ü•Ç</div>
                <div class="event-spacer"></div>
            </div>
        </div>
    </section>

    <!-- ALBUM -->
    <section class="album-section" id="album">
        <div class="section-header reveal">
            <span class="ornament">Kho·∫£nh Kh·∫Øc</span>
            <h2>Album C∆∞·ªõi</h2>
            <div class="divider-fancy"><span class="line"></span><span class="dot"></span><span class="line"></span></div>
            <p>Nh·ªØng k·ª∑ ni·ªám ƒë·∫πp nh·∫•t c·ªßa ch√∫ng m√¨nh</p>
        </div>
        <div class="album-grid">
            <div class="album-item reveal-scale stagger-1" onclick="openLB(0)">
                <img src="https://images.unsplash.com/photo-1519741497674-611481863552?w=800&q=80" alt="Wedding 1">
            </div>
            <div class="album-item reveal-scale stagger-2" onclick="openLB(1)">
                <img src="https://images.unsplash.com/photo-1511285560929-80b456fea0bc?w=600&q=80" alt="Wedding 2">
            </div>
            <div class="album-item reveal-scale stagger-3" onclick="openLB(2)">
                <img src="https://images.unsplash.com/photo-1520854221256-17451cc331bf?w=600&q=80" alt="Wedding 3">
            </div>
            <div class="album-item reveal-scale stagger-4" onclick="openLB(3)">
                <img src="https://images.unsplash.com/photo-1606216794074-735e91aa2c92?w=600&q=80" alt="Wedding 4">
            </div>
            <div class="album-item reveal-scale stagger-5" onclick="openLB(4)">
                <img src="https://images.unsplash.com/photo-1591604466107-ec97de577aff?w=600&q=80" alt="Wedding 5">
            </div>
            <div class="album-item reveal-scale stagger-6" onclick="openLB(5)">
                <img src="https://images.unsplash.com/photo-1465495976277-4387d4b0b4c6?w=800&q=80" alt="Wedding 6">
            </div>
            <div class="album-item reveal-scale stagger-5" onclick="openLB(6)">
                <img src="https://images.unsplash.com/photo-1522673607200-164d1b6ce486?w=600&q=80" alt="Wedding 7">
            </div>
            <div class="album-item reveal-scale stagger-6" onclick="openLB(7)">
                <img src="https://images.unsplash.com/photo-1544078751-58fee2d8a03b?w=600&q=80" alt="Wedding 8">
            </div>
        </div>
    </section>

    <!-- LIGHTBOX -->
    <div class="lightbox" id="lightbox" onclick="closeLightbox(event)">
        <div class="lightbox-inner">
            <button class="lb-close" onclick="closeLightbox()">‚úï</button>
            <button class="lb-nav lb-prev" onclick="navigateLB(-1)">‚ùÆ</button>
            <img id="lbImg" src="" alt="Album Photo">
            <button class="lb-nav lb-next" onclick="navigateLB(1)">‚ùØ</button>
            <div class="lb-counter" id="lbCounter">1 / 8</div>
        </div>
    </div>

    <!-- WISHES -->
    <section class="wishes-section" id="wishes">
        <div class="wishes-bg"></div>
        <div class="wishes-container">
            <div class="section-header reveal">
                <span class="ornament">S·ªï L∆∞u B√∫t</span>
                <h2>L·ªùi Ch√∫c Ph√∫c</h2>
                <div class="divider-fancy"><span class="line"></span><span class="dot"></span><span class="line"></span></div>
                <p>H√£y g·ª≠i nh·ªØng l·ªùi ch√∫c t·ªët ƒë·∫πp nh·∫•t ƒë·∫øn c√¥ d√¢u v√† ch√∫ r·ªÉ</p>
            </div>

            <!-- Wish Form -->
            <div class="wish-form-card reveal">
                <h3>G·ª≠i L·ªùi Ch√∫c</h3>
                <span class="subtitle">Vi·∫øt l·ªùi ch√∫c c·ªßa b·∫°n t·∫°i ƒë√¢y</span>
                <form class="wish-form" onsubmit="submitWish(event)">
                    <div class="wish-input-row">
                        <input type="text" class="wish-input" id="wishName" placeholder="H·ªç t√™n c·ªßa b·∫°n *" required>
                        <input type="text" class="wish-input" id="wishRelation" placeholder="M·ªëi quan h·ªá (VD: B·∫°n c√¥ d√¢u)">
                    </div>
                    <textarea class="wish-input" id="wishMessage" placeholder="Vi·∫øt l·ªùi ch√∫c t·ªët ƒë·∫πp nh·∫•t c·ªßa b·∫°n... *" required></textarea>
                    <button type="submit" class="wish-submit" id="wishSubmitBtn">üíå G·ª≠i L·ªùi Ch√∫c</button>
                </form>
            </div>

            <!-- Wish List with scroll -->
            <div class="reveal">
                <div class="wishes-list-header">
                    <h3>üíù L·ªùi ch√∫c t·ª´ m·ªçi ng∆∞·ªùi</h3>
                    <span class="wishes-count" id="wishesCount">0 l·ªùi ch√∫c</span>
                </div>
                <div class="wishes-list-wrapper" id="wishesListWrapper">
                    <div class="wishes-list" id="wishesList"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- VENUE -->
    <section class="venue-section" id="venue">
        <div class="section-header reveal">
            <span class="ornament">ƒê·ªãa ƒêi·ªÉm</span>
            <h2>Nh√† H√†ng Ti·ªác C∆∞·ªõi</h2>
            <div class="divider-fancy"><span class="line"></span><span class="dot"></span><span class="line"></span></div>
        </div>
        <div class="venue-layout reveal">
            <div class="venue-info-side">
                <h3>White Palace</h3>
                <div class="tagline">Convention Center</div>
                <p>N∆°i t·ªï ch·ª©c ti·ªác c∆∞·ªõi sang tr·ªçng v√† ·∫•m c√∫ng nh·∫•t, mang ƒë·∫øn tr·∫£i nghi·ªám tuy·ªát v·ªùi cho ng√†y tr·ªçng ƒë·∫°i c·ªßa ch√∫ng m√¨nh.</p>
                <div class="venue-detail">
                    <div class="venue-detail-icon">üìç</div>
                    <div class="venue-detail-text">
                        <strong>ƒê·ªãa ch·ªâ</strong>
                        <span>194 Ho√†ng VƒÉn Th·ª•, P.9, Q.Ph√∫ Nhu·∫≠n, TP.HCM</span>
                    </div>
                </div>
                <div class="venue-detail">
                    <div class="venue-detail-icon">üïê</div>
                    <div class="venue-detail-text">
                        <strong>Th·ªùi gian</strong>
                        <span>18:00 - 21:00 | Ch·ªß nh·∫≠t, 29/03/2026</span>
                    </div>
                </div>
                <div class="venue-detail">
                    <div class="venue-detail-icon">üìû</div>
                    <div class="venue-detail-text">
                        <strong>Li√™n h·ªá</strong>
                        <span>Minh: 0909 xxx xxx | Linh: 0912 xxx xxx</span>
                    </div>
                </div>
                <a href="https://maps.google.com" target="_blank" class="venue-btn">üó∫Ô∏è Xem b·∫£n ƒë·ªì</a>
            </div>
            <div class="venue-map-side">
                <div class="venue-map-placeholder">
                    <span class="map-icon">üó∫Ô∏è</span>
                    <p>B·∫£n ƒë·ªì s·∫Ω hi·ªÉn th·ªã t·∫°i ƒë√¢y</p>
                </div>
            </div>
        </div>
    </section>

    <!-- GIFT - REDESIGNED -->
    <section class="gift-section" id="gift">
        <div class="gift-bg"></div>
        <div class="gift-container">
            <div class="section-header reveal">
                <span class="ornament">H·ªôp M·ª´ng C∆∞·ªõi</span>
                <h2>M·ª´ng C∆∞·ªõi</h2>
                <div class="divider-fancy"><span class="line"></span><span class="dot"></span><span class="line"></span></div>
            </div>

            <div class="gift-intro reveal">
                <p>S·ª± hi·ªán di·ªán c·ªßa b·∫°n trong ng√†y tr·ªçng ƒë·∫°i l√† ni·ªÅm h·∫°nh ph√∫c l·ªõn nh·∫•t c·ªßa ch√∫ng m√¨nh. N·∫øu b·∫°n mu·ªën g·ª≠i qu√† m·ª´ng, xin vui l√≤ng s·ª≠ d·ª•ng th√¥ng tin b√™n d∆∞·ªõi. Xin ch√¢n th√†nh c·∫£m ∆°n! üíï</p>
            </div>

            <div class="gift-tabs reveal">
                <button class="gift-tab active" onclick="switchGiftTab('all', this)">üíë T·∫•t C·∫£</button>
                <button class="gift-tab" onclick="switchGiftTab('groom', this)">ü§µ Ch√∫ R·ªÉ</button>
                <button class="gift-tab" onclick="switchGiftTab('bride', this)">üë∞ C√¥ D√¢u</button>
            </div>

            <div class="gift-cards">
                <div class="gift-card show reveal stagger-1" data-side="groom">
                    <div class="gift-card-icon">ü§µ</div>
                    <h4>Tr·∫ßn ƒê·ª©c Minh</h4>
                    <span class="role-label">Ch√∫ R·ªÉ</span>
                    <div class="gift-qr">
                        <div class="gift-qr-placeholder">
                            <span class="qr-icon">üì±</span>
                            QR Momo / Banking
                        </div>
                    </div>
                    <div class="gift-bank-info">
                        <div class="gift-bank-row">
                            <span class="gift-bank-label">Ng√¢n h√†ng</span>
                            <span class="gift-bank-value">Vietcombank</span>
                        </div>
                        <div class="gift-bank-row">
                            <span class="gift-bank-label">S·ªë TK</span>
                            <span class="gift-bank-value">1234 5678 9012 <button class="copy-btn" onclick="copyText('123456789012', this)">Copy</button></span>
                        </div>
                        <div class="gift-bank-row">
                            <span class="gift-bank-label">Ch·ªß TK</span>
                            <span class="gift-bank-value">TRAN DUC MINH</span>
                        </div>
                    </div>
                </div>

                <div class="gift-card show reveal stagger-2" data-side="bride">
                    <div class="gift-card-icon">üë∞</div>
                    <h4>L√™ Th·ªã Th√πy Linh</h4>
                    <span class="role-label">C√¥ D√¢u</span>
                    <div class="gift-qr">
                        <div class="gift-qr-placeholder">
                            <span class="qr-icon">üì±</span>
                            QR Momo / Banking
                        </div>
                    </div>
                    <div class="gift-bank-info">
                        <div class="gift-bank-row">
                            <span class="gift-bank-label">Ng√¢n h√†ng</span>
                            <span class="gift-bank-value">Techcombank</span>
                        </div>
                        <div class="gift-bank-row">
                            <span class="gift-bank-label">S·ªë TK</span>
                            <span class="gift-bank-value">9876 5432 1098 <button class="copy-btn" onclick="copyText('987654321098', this)">Copy</button></span>
                        </div>
                        <div class="gift-bank-row">
                            <span class="gift-bank-label">Ch·ªß TK</span>
                            <span class="gift-bank-value">LE THI THUY LINH</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="gift-note reveal">
                <span class="note-icon">üíù</span>
                <p>Ch√∫ng m√¨nh xin ch√¢n th√†nh c·∫£m ∆°n t·∫•m l√≤ng c·ªßa qu√Ω kh√°ch.<br>
                <span class="highlight">S·ª± hi·ªán di·ªán c·ªßa b·∫°n ch√≠nh l√† m√≥n qu√† √Ω nghƒ©a nh·∫•t!</span></p>
            </div>
        </div>
    </section>

    <!-- FOOTER - REDESIGNED -->
    <footer class="footer">
        <div class="footer-floating-hearts" id="footerHearts"></div>
        <div class="footer-top">
            <div class="footer-ornament">~ Forever & Always ~</div>
            <div class="footer-names">Minh & Linh</div>
            <div class="footer-date">29 th√°ng 3, 2026 ‚Ä¢ TP. H·ªì Ch√≠ Minh</div>
            <div class="footer-hashtag">#MinhLinh2026</div>
            <p class="footer-message">C·∫£m ∆°n b·∫°n ƒë√£ d√†nh th·ªùi gian ƒë·ªçc thi·ªáp c∆∞·ªõi c·ªßa ch√∫ng m√¨nh. S·ª± hi·ªán di·ªán c·ªßa b·∫°n s·∫Ω l√† ni·ªÅm vui l·ªõn nh·∫•t trong ng√†y tr·ªçng ƒë·∫°i! üíï</p>
            <div class="footer-social">
                <a href="#" title="Facebook">üìò</a>
                <a href="#" title="Instagram">üì∏</a>
                <a href="#" title="Zalo">üí¨</a>
                <a href="#" title="YouTube">üé¨</a>
                <a href="#" title="TikTok">üéµ</a>
            </div>
        </div>
        <div class="footer-divider"></div>
        <div class="footer-bottom">
            <div class="footer-bottom-left">Made with <span>‚ô•</span> for Minh & Linh's Wedding</div>
            <div class="footer-bottom-right">
                <a href="#home">Trang ch·ªß</a>
                <a href="#couple">C√¥ d√¢u & Ch√∫ r·ªÉ</a>
                <a href="#events">S·ª± ki·ªán</a>
                <a href="#wishes">L·ªùi ch√∫c</a>
            </div>
            <div class="footer-bottom-center">¬© 2026 Wedding of Minh & Linh. All rights reserved.</div>
        </div>
    </footer>

    <!-- FIXED BUTTONS -->
    <button class="back-to-top" id="backToTop" onclick="scrollToTop()">‚Üë</button>
    <button class="music-toggle" id="musicToggle" onclick="toggleMusic()">
        <div class="music-bars">
            <div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div>
        </div>
    </button>

    <script>
    // ===== AUDIO =====
    const bgMusic = document.getElementById('bgMusic');
    let musicPlaying = false;

    function toggleMusic() {
        const btn = document.getElementById('musicToggle');
        if (musicPlaying) {
            bgMusic.pause();
            btn.classList.remove('playing');
        } else {
            bgMusic.play().catch(()=>{});
            btn.classList.add('playing');
        }
        musicPlaying = !musicPlaying;
    }

    // ===== FIREWORKS ENGINE (Optimized + Smooth ending) =====
const fwCanvas = document.getElementById('fireworksCanvas');
const fwCtx = fwCanvas.getContext('2d');
let fireworks = [];
let fwParticles = [];
let fwRunning = false;
let fwAnimId = null;
let fwFadingOut = false;

function resizeFWCanvas() {
    fwCanvas.width = window.innerWidth;
    fwCanvas.height = window.innerHeight;
}
resizeFWCanvas();
window.addEventListener('resize', resizeFWCanvas);

class Firework {
    constructor(x, targetY) {
        this.x = x;
        this.y = fwCanvas.height;
        this.targetY = targetY;
        this.speed = 5 + Math.random() * 3;
        this.trail = [];
        this.alive = true;
        this.hue = Math.random() * 360;
    }
    update() {
        this.trail.push({ x: this.x, y: this.y, alpha: 1 });
        if (this.trail.length > 8) this.trail.shift();
        this.trail.forEach(t => t.alpha -= 0.12);
        this.y -= this.speed;
        if (this.y < this.targetY) {
            this.alive = false;
            this.explode();
        }
    }
    explode() {
        const count = 25 + Math.floor(Math.random() * 10);
        for (let i = 0; i < count; i++) {
            const angle = (Math.PI * 2 / count) * i;
            const vel = 2 + Math.random() * 3;
            fwParticles.push({
                x: this.x, y: this.y,
                vx: Math.cos(angle) * vel,
                vy: Math.sin(angle) * vel,
                alpha: 1,
                decay: 0.015 + Math.random() * 0.015,
                size: 1.5 + Math.random() * 1.5,
                gravity: 0.04,
                color: `hsl(${this.hue + Math.random() * 60 - 30}, 100%, ${60 + Math.random() * 20}%)`
            });
        }
    }
    draw() {
        if (this.trail.length > 1) {
            fwCtx.beginPath();
            fwCtx.moveTo(this.trail[0].x, this.trail[0].y);
            for (let i = 1; i < this.trail.length; i++) {
                fwCtx.lineTo(this.trail[i].x, this.trail[i].y);
            }
            fwCtx.strokeStyle = `hsla(${this.hue}, 100%, 80%, 0.6)`;
            fwCtx.lineWidth = 2;
            fwCtx.stroke();
        }
        fwCtx.beginPath();
        fwCtx.arc(this.x, this.y, 2.5, 0, Math.PI * 2);
        fwCtx.fillStyle = `hsl(${this.hue}, 100%, 85%)`;
        fwCtx.fill();
    }
}

function animateFireworks() {
    if (!fwRunning) return;

    // Clear with trail effect
    fwCtx.globalCompositeOperation = 'destination-out';
    fwCtx.fillStyle = fwFadingOut ? 'rgba(0,0,0,0.25)' : 'rgba(0,0,0,0.12)';
    fwCtx.fillRect(0, 0, fwCanvas.width, fwCanvas.height);
    fwCtx.globalCompositeOperation = 'lighter';

    // Update & draw fireworks
    fireworks = fireworks.filter(f => f.alive);
    for (let i = 0; i < fireworks.length; i++) {
        fireworks[i].update();
        fireworks[i].draw();
    }

    // Update & draw particles (reverse loop for splice)
    for (let i = fwParticles.length - 1; i >= 0; i--) {
        const p = fwParticles[i];
        p.x += p.vx;
        p.y += p.vy;
        p.vy += p.gravity;
        p.vx *= 0.98;

        // Faster decay when fading out
        p.alpha -= fwFadingOut ? p.decay * 3 : p.decay;

        if (p.alpha <= 0) {
            fwParticles.splice(i, 1);
            continue;
        }

        fwCtx.globalAlpha = p.alpha;
        fwCtx.beginPath();
        fwCtx.arc(p.x, p.y, p.size * p.alpha, 0, Math.PI * 2);
        fwCtx.fillStyle = p.color;
        fwCtx.fill();
    }
    fwCtx.globalAlpha = 1;

    // Auto-stop when nothing left during fadeout
    if (fwFadingOut && fireworks.length === 0 && fwParticles.length === 0) {
        fwRunning = false;
        fwCtx.clearRect(0, 0, fwCanvas.width, fwCanvas.height);
        fwCanvas.style.zIndex = '-1';
        fwFadingOut = false;
        return;
    }

    fwAnimId = requestAnimationFrame(animateFireworks);
}

function launchFirework() {
    const x = fwCanvas.width * 0.15 + Math.random() * fwCanvas.width * 0.7;
    const targetY = fwCanvas.height * 0.1 + Math.random() * fwCanvas.height * 0.35;
    fireworks.push(new Firework(x, targetY));
}

function startFireworks(duration) {
    fwRunning = true;
    fwFadingOut = false;
    fireworks = [];
    fwParticles = [];
    fwCanvas.style.zIndex = '99997';
    fwCtx.clearRect(0, 0, fwCanvas.width, fwCanvas.height);
    animateFireworks();

    let count = 0;
    const maxLaunches = 18;
    function launchWave() {
        if (count >= maxLaunches || !fwRunning) return;
        const burst = 1 + Math.floor(Math.random() * 2);
        for (let i = 0; i < burst && count < maxLaunches; i++) {
            launchFirework();
            count++;
        }
        setTimeout(launchWave, 250 + Math.random() * 300);
    }
    launchWave();

    // Start fading out instead of hard stop
    setTimeout(() => {
        fwFadingOut = true;
        // Safety cleanup in case something hangs
        setTimeout(() => {
            if (fwRunning) {
                fwRunning = false;
                fwCtx.clearRect(0, 0, fwCanvas.width, fwCanvas.height);
                fwCanvas.style.zIndex = '-1';
                fireworks = [];
                fwParticles = [];
                fwFadingOut = false;
            }
        }, 3000);
    }, duration);
}

    // ===== ENVELOPE + GRAND REVEAL =====
    let envelopeOpened = false;

    function openEnvelope() {
        if (envelopeOpened) return;
        envelopeOpened = true;
        document.getElementById('envelope').classList.add('open');

        // Start music
        setTimeout(() => {
            bgMusic.play().then(() => {
                musicPlaying = true;
                document.getElementById('musicToggle').classList.add('playing');
            }).catch(()=>{});
        }, 500);

        // Hide envelope, show grand reveal + fireworks
        setTimeout(() => {
            // Scroll to top first
            window.scrollTo({ top: 0, behavior: 'instant' });
            document.getElementById('envelopeOverlay').classList.add('hidden');
            triggerGrandReveal();
            startFireworks(5000);
        }, 1800);
    }

    function triggerGrandReveal() {
        const gr = document.getElementById('grandReveal');
        gr.style.opacity = '1';
        gr.classList.add('active');

        // Create sparkles
        for (let i = 0; i < 60; i++) {
            const s = document.createElement('div');
            s.className = 'sparkle';
            const colors = ['#FFD700','#FF69B4','#FFF','#c9a96e','#FF6347','#00CED1','#FF1493','#7CFC00'];
            s.style.background = colors[Math.floor(Math.random() * colors.length)];
            s.style.left = '50%';
            s.style.top = '50%';
            s.style.width = (3 + Math.random() * 5) + 'px';
            s.style.height = s.style.width;
            s.style.setProperty('--tx', (-250 + Math.random() * 500) + 'px');
            s.style.setProperty('--ty', (-350 + Math.random() * 500) + 'px');
            s.style.animationDelay = (Math.random() * 1.2) + 's';
            s.style.animationDuration = (1.5 + Math.random() * 1.5) + 's';
            gr.appendChild(s);
        }

        // Create confetti
        for (let i = 0; i < 60; i++) {
            const c = document.createElement('div');
            c.className = 'confetti-piece';
            const confettiColors = ['#FFD700','#FF69B4','#c9a96e','#e8c4c4','#FF6347','#4169E1','#FF1493','#32CD32','#FF4500','#8A2BE2'];
            c.style.background = confettiColors[Math.floor(Math.random() * confettiColors.length)];
            c.style.width = (5 + Math.random() * 8) + 'px';
            c.style.height = (8 + Math.random() * 16) + 'px';
            c.style.borderRadius = Math.random() > 0.5 ? '50%' : '2px';
            c.style.setProperty('--cx', (-400 + Math.random() * 800) + 'px');
            c.style.setProperty('--cy', (-500 + Math.random() * 300) + 'px');
            c.style.animationDelay = (Math.random() * 1) + 's';
            c.style.animationDuration = (2 + Math.random() * 2.5) + 's';
            gr.appendChild(c);
        }

        // Fade out and enable scroll
        setTimeout(() => {
            gr.classList.add('fadeout');
            document.body.classList.remove('no-scroll');
            // Ensure at top after scroll unlock
            window.scrollTo({ top: 0, behavior: 'instant' });
            createPetals();
            createParticles();
        }, 3000);

        setTimeout(() => {
            gr.style.display = 'none';
        }, 7500);
    }

    // ===== PETALS =====
    function createPetals() {
        const c = document.getElementById('petals');
        const colors = ['#f5cac3','#f7d1cd','#e8c4c4','#f2b5b5','#fce1e4','#ddb892','#e6ccb2','#f5e6e0'];
        for (let i = 0; i < 25; i++) {
            const p = document.createElement('div');
            p.className = 'petal';
            const size = 8 + Math.random() * 18;
            const color = colors[Math.floor(Math.random() * colors.length)];
            p.style.left = Math.random() * 100 + '%';
            p.style.width = size + 'px';
            p.style.height = size + 'px';
            p.style.animationDuration = (8 + Math.random() * 12) + 's';
            p.style.animationDelay = (Math.random() * 15) + 's';
            p.innerHTML = `<svg viewBox="0 0 24 24" width="${size}" height="${size}"><ellipse cx="12" cy="12" rx="10" ry="6" fill="${color}" opacity=".7" transform="rotate(${Math.random()*360} 12 12)"/></svg>`;
            c.appendChild(p);
        }
    }

    // ===== PARTICLES =====
    function createParticles() {
        const c = document.getElementById('particles');
        for (let i = 0; i < 30; i++) {
            const p = document.createElement('div');
            p.className = 'particle';
            p.style.left = Math.random() * 100 + '%';
            p.style.width = p.style.height = (2 + Math.random() * 4) + 'px';
            p.style.background = Math.random() > 0.5 ? 'rgba(201,169,110,.4)' : 'rgba(232,196,196,.4)';
            p.style.animationDuration = (10 + Math.random() * 15) + 's';
            p.style.animationDelay = (Math.random() * 15) + 's';
            c.appendChild(p);
        }
    }

    // ===== SCROLL =====
    const backToTop = document.getElementById('backToTop');
    window.addEventListener('scroll', () => {
        backToTop.classList.toggle('show', window.scrollY > 500);
        revealOnScroll();
    });

    function revealOnScroll() {
        document.querySelectorAll('.reveal,.reveal-left,.reveal-right,.reveal-scale').forEach(el => {
            if (el.getBoundingClientRect().top < window.innerHeight * 0.88) {
                el.classList.add('active');
            }
        });
    }

    // ===== COUNTDOWN =====
    function updateCountdown() {
        const wedding = new Date('2026-03-29T10:00:00').getTime();
        const diff = wedding - Date.now();
        if (diff > 0) {
            document.getElementById('days').textContent = String(Math.floor(diff / 86400000)).padStart(2, '0');
            document.getElementById('hours').textContent = String(Math.floor((diff % 86400000) / 3600000)).padStart(2, '0');
            document.getElementById('minutes').textContent = String(Math.floor((diff % 3600000) / 60000)).padStart(2, '0');
            document.getElementById('seconds').textContent = String(Math.floor((diff % 60000) / 1000)).padStart(2, '0');
        } else {
            ['days','hours','minutes','seconds'].forEach(id => document.getElementById(id).textContent = '00');
        }
    }
    setInterval(updateCountdown, 1000);
    updateCountdown();

    // ===== SMOOTH SCROLL (Fixed scroll-down) =====
    document.querySelectorAll('a[href^="#"]').forEach(a => {
        a.addEventListener('click', function(e) {
            e.preventDefault();
            const href = this.getAttribute('href');
            const t = document.querySelector(href);
            if (t) {
                t.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        });
    });

    // ===== LIGHTBOX =====
    const albumImgs = [
        'https://images.unsplash.com/photo-1519741497674-611481863552?w=1200&q=85',
        'https://images.unsplash.com/photo-1511285560929-80b456fea0bc?w=1200&q=85',
        'https://images.unsplash.com/photo-1520854221256-17451cc331bf?w=1200&q=85',
        'https://images.unsplash.com/photo-1606216794074-735e91aa2c92?w=1200&q=85',
        'https://images.unsplash.com/photo-1591604466107-ec97de577aff?w=1200&q=85',
        'https://images.unsplash.com/photo-1465495976277-4387d4b0b4c6?w=1200&q=85',
        'https://images.unsplash.com/photo-1522673607200-164d1b6ce486?w=1200&q=85',
        'https://images.unsplash.com/photo-1544078751-58fee2d8a03b?w=1200&q=85'
    ];
    let curImg = 0;

    function openLB(i) {
        curImg = i; updateLB();
        document.getElementById('lightbox').classList.add('active');
        document.body.style.overflow = 'hidden';
    }
    function closeLightbox(e) {
        if (e && e.target !== e.currentTarget && !e.target.classList.contains('lb-close')) return;
        document.getElementById('lightbox').classList.remove('active');
        document.body.style.overflow = '';
    }
    function navigateLB(dir) {
        curImg = (curImg + dir + albumImgs.length) % albumImgs.length;
        updateLB();
    }
    function updateLB() {
        document.getElementById('lbImg').src = albumImgs[curImg];
        document.getElementById('lbCounter').textContent = `${curImg + 1} / ${albumImgs.length}`;
    }
    document.addEventListener('keydown', e => {
        if (!document.getElementById('lightbox').classList.contains('active')) return;
        if (e.key === 'Escape') closeLightbox();
        if (e.key === 'ArrowLeft') navigateLB(-1);
        if (e.key === 'ArrowRight') navigateLB(1);
    });

    // ===== GIFT TABS =====
    function switchGiftTab(tab, btn) {
        document.querySelectorAll('.gift-tab').forEach(t => t.classList.remove('active'));
        btn.classList.add('active');
        document.querySelectorAll('.gift-card').forEach(card => {
            card.classList.toggle('show', tab === 'all' || card.dataset.side === tab);
        });
    }

    // ===== COPY =====
    function copyText(text, btn) {
        navigator.clipboard.writeText(text).then(() => {
            btn.textContent = '‚úì Copied'; btn.classList.add('copied');
            setTimeout(() => { btn.textContent = 'Copy'; btn.classList.remove('copied'); }, 2000);
        }).catch(() => {
            const ta = document.createElement('textarea');
            ta.value = text; document.body.appendChild(ta);
            ta.select(); document.execCommand('copy');
            document.body.removeChild(ta);
            btn.textContent = '‚úì Copied'; btn.classList.add('copied');
            setTimeout(() => { btn.textContent = 'Copy'; btn.classList.remove('copied'); }, 2000);
        });
    }

    // ===== WISHES ‚Äî localStorage =====
    const WISHES_KEY = 'wedding_wishes_ml2026';

    function getWishes() {
        try { return JSON.parse(localStorage.getItem(WISHES_KEY)) || []; }
        catch { return []; }
    }

    function saveWishes(wishes) {
        localStorage.setItem(WISHES_KEY, JSON.stringify(wishes));
    }

    function renderWishes() {
        const list = document.getElementById('wishesList');
        const countEl = document.getElementById('wishesCount');
        const wishes = getWishes();

        countEl.textContent = `${wishes.length} l·ªùi ch√∫c`;

        if (wishes.length === 0) {
            list.innerHTML = '<div class="no-wishes">Ch∆∞a c√≥ l·ªùi ch√∫c n√†o. H√£y l√† ng∆∞·ªùi ƒë·∫ßu ti√™n g·ª≠i l·ªùi ch√∫c! üíï</div>';
            return;
        }
        list.innerHTML = wishes.map((w) => {
            const initials = w.name.split(' ').map(n => n[0]).join('').slice(0, 2).toUpperCase();
            const timeAgo = getTimeAgo(w.time);
            return `
            <div class="wish-card">
                <div class="wish-card-quote">"</div>
                <div class="wish-text">${escapeHTML(w.message)}</div>
                <div class="wish-footer">
                    <div class="wish-author">
                        <div class="wish-avatar">${initials}</div>
                        <div class="wish-author-info">
                            <div class="name">${escapeHTML(w.name)}</div>
                            ${w.relation ? `<div style="font-size:.75rem;color:var(--text-light)">${escapeHTML(w.relation)}</div>` : ''}
                        </div>
                    </div>
                    <div class="wish-time">${timeAgo}</div>
                </div>
            </div>`;
        }).join('');
    }

    function submitWish(e) {
        e.preventDefault();
        const name = document.getElementById('wishName').value.trim();
        const relation = document.getElementById('wishRelation').value.trim();
        const message = document.getElementById('wishMessage').value.trim();

        if (!name || !message) return;

        const wishes = getWishes();
        wishes.unshift({ name, relation, message, time: Date.now() });
        saveWishes(wishes);

        document.getElementById('wishName').value = '';
        document.getElementById('wishRelation').value = '';
        document.getElementById('wishMessage').value = '';

        const btn = document.getElementById('wishSubmitBtn');
        btn.textContent = '‚úÖ ƒê√£ g·ª≠i l·ªùi ch√∫c!';
        btn.style.background = 'linear-gradient(135deg, #a7b5a0, #8fa888)';
        setTimeout(() => {
            btn.textContent = 'üíå G·ª≠i L·ªùi Ch√∫c';
            btn.style.background = '';
        }, 2500);

        renderWishes();

        // Scroll wish list to top to show new wish
        const wrapper = document.getElementById('wishesListWrapper');
        wrapper.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function getTimeAgo(timestamp) {
        const diff = Date.now() - timestamp;
        const mins = Math.floor(diff / 60000);
        if (mins < 1) return 'V·ª´a xong';
        if (mins < 60) return `${mins} ph√∫t tr∆∞·ªõc`;
        const hrs = Math.floor(mins / 60);
        if (hrs < 24) return `${hrs} gi·ªù tr∆∞·ªõc`;
        const days = Math.floor(hrs / 24);
        if (days < 30) return `${days} ng√†y tr∆∞·ªõc`;
        const months = Math.floor(days / 30);
        return `${months} th√°ng tr∆∞·ªõc`;
    }

    function escapeHTML(str) {
        const div = document.createElement('div');
        div.textContent = str;
        return div.innerHTML;
    }

    // Init wishes
    renderWishes();

    if (getWishes().length === 0) {
        const defaults = [
            { name: 'Gia ƒë√¨nh nh√† trai', relation: 'Ba M·∫π ch√∫ r·ªÉ', message: 'Ch√∫c hai con lu√¥n h·∫°nh ph√∫c, y√™u th∆∞∆°ng nhau tr·ªçn ƒë·ªùi. Ba m·∫π r·∫•t t·ª± h√†o v√† h·∫°nh ph√∫c khi th·∫•y con t√¨m ƒë∆∞·ª£c n·ª≠a kia c·ªßa m√¨nh!', time: Date.now() - 86400000 },
            { name: 'Gia ƒë√¨nh nh√† g√°i', relation: 'Ba M·∫π c√¥ d√¢u', message: 'Con g√°i y√™u qu√Ω, ba m·∫π ch√∫c con v√† Minh lu√¥n b√™n nhau, c√πng x√¢y d·ª±ng t·ªï ·∫•m th·∫≠t h·∫°nh ph√∫c. M√£i y√™u con!', time: Date.now() - 72000000 },
            { name: 'Nguy·ªÖn Ho√†ng Nam', relation: 'B·∫°n th√¢n ch√∫ r·ªÉ', message: 'Ch√∫c m·ª´ng hai b·∫°n! H·∫°nh ph√∫c m√£i b√™n nhau nh√©. √îng tr·ªùi se duy√™n cho ƒë√¥i ƒë·∫πp nh·∫•t group m√¨nh r·ªìi! üéâü•Ç', time: Date.now() - 36000000 },
            { name: 'Ph·∫°m Thu H√†', relation: 'B·∫°n th√¢n c√¥ d√¢u', message: 'Linh ∆°i, cu·ªëi c√πng c≈©ng ƒë·∫øn ng√†y n√†y r·ªìi! H·∫°nh ph√∫c th·∫≠t nhi·ªÅu nh√© b·∫°n y√™u. Y√™u c·∫£ hai l·∫Øm l·∫Øm! üíï‚ú®', time: Date.now() - 18000000 },
            { name: 'Tr·∫ßn Minh Tu·∫•n', relation: 'ƒê·ªìng nghi·ªáp', message: 'Ch√∫c anh ch·ªã trƒÉm nƒÉm h·∫°nh ph√∫c, s·ªõm c√≥ tin vui nh√©! Couple ƒë·∫πp nh·∫•t c√¥ng ty m√¨nh! üéä', time: Date.now() - 7200000 },
            { name: 'L√™ Ho√†ng Y·∫øn', relation: 'B·∫°n ƒë·∫°i h·ªçc', message: 'Happy Wedding nghen hai ƒë·ª©a! T·ª´ h·ªìi ƒë·∫°i h·ªçc t·ªõi gi·ªù, cu·ªëi c√πng c≈©ng ch·ªãu c∆∞·ªõi. H·∫°nh ph√∫c m√£i m√£i nha! ü•∞üíí', time: Date.now() - 3600000 }
        ];
        saveWishes(defaults);
        renderWishes();
    }

    // ===== FOOTER FLOATING HEARTS =====
    function createFooterHearts() {
        const container = document.getElementById('footerHearts');
        const hearts = ['üíï', 'üíó', 'üíñ', '‚ú®', 'üíù', '‚ô•'];
        for (let i = 0; i < 12; i++) {
            const h = document.createElement('div');
            h.className = 'footer-heart';
            h.textContent = hearts[Math.floor(Math.random() * hearts.length)];
            h.style.left = (5 + Math.random() * 90) + '%';
            h.style.fontSize = (0.6 + Math.random() * 0.8) + 'rem';
            h.style.animationDuration = (4 + Math.random() * 6) + 's';
            h.style.animationDelay = (Math.random() * 8) + 's';
            container.appendChild(h);
        }
    }
    createFooterHearts();

    // ===== BACK TO TOP =====
    function scrollToTop() {
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }
    </script>
</body>
</html>